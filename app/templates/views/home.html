<ion-view>
    <ion-header-bar align-title="center" class="bar-balanced">
    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
        <h1 class="title">PottyPottyPotty</h1>
    </ion-header-bar>

    <ion-content>
        <div id="hint-text" class="content" ng-hide="pottyTrips.length > 0">
            <i>Welcome! Would you like to add a potty trip?</i>
        </div>
        <ion-list id="potty-trips" type="card" ng-show="pottyTrips.length > 0">
            <ion-item class="item-divider">
            Today
            </ion-item>
            <ion-item ng-repeat="trip in pottyTrips | orderBy:'-timestamp'">
            <!-- TODO: Improve presentation. Supply text from controller -->
            <span ng-show="trip.isWee">Wee</span>
            <span ng-show="trip.isWee && trip.isPoo"> & </span>
            <span ng-show="trip.isPoo">Poo</span>
            <br/>
            <span>{{trip.timestamp | date:'HH:mm:ss'}}</span>
            <span ng-show="trip.timestampOfPreviousWee"><br/></span>
            <span ng-show="trip.timestampOfPreviousWee">Time since last wee was {{trip.timestamp | amDifference : trip.timestampOfPreviousWee : 'minutes' }} <ng-pluralize count="{{trip.timestamp | amDifference : trip.timestampOfPreviousWee : 'minutes' }}"
                 when="{'0': 'minutes', '1': 'minute', 'other': 'minutes'}"></ng-pluralize></span>
            <span ng-show="trip.timestampOfPreviousPoo"><br/></span>
            <span ng-show="trip.timestampOfPreviousPoo">Time since last poo was {{trip.timestamp | amDifference : trip.timestampOfPreviousPoo : 'minutes' }} <ng-pluralize count="{{trip.timestamp | amDifference : trip.timestampOfPreviousPoo : 'minutes' }}"
                 when="{'0': 'minutes', '1': 'minute', 'other': 'minutes'}"></ng-pluralize></span>
            </ion-item>
        </ion-list>
    </ion-content>

    <!-- Style adjustments needed for bar-footer and buttons to make sure they go to the edges and the icons are not
         bumped off the bottom of the screen. That is what the default bar,bar-footer + button-full combination does. -->
    <div class="bar bar-footer" style="padding-top: 0px;padding-bottom: 0px;padding-left: 0px;padding-right: 0px">
        <div class="button-bar">
          <a class="button button-full button-balanced" style="margin-top: 0px;margin-bottom: 0px" ui-sref="app.addTrip" id="add-trip">
            <i class="icon ion-plus"></i>
          </a>
        </div>
    </div>

</ion-view>
